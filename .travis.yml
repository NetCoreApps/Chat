sudo: required
language: csharp
solution: src/Chat.sln
services:
  - docker
matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
      dotnet: 1.0.0-preview2-003121
      mono: none
      env: DOTNETCORE=1
script:
  - docker login -u AWS -p $AWS_ECS_PASSWORD -e none https://$AWS_ECS_REPO_DOMAIN
  - docker build -t netcoreapps .
  - docker tag netcoreapps:latest $AWS_ECS_REPO_DOMAIN/netcoreapps:latest
  - docker push $AWS_ECS_REPO_DOMAIN/netcoreapps:latest
